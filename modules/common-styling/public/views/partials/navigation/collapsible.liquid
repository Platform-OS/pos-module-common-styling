{% liquid
  assign inert = inert | default: false
%}


{% capture output %}

  <ul{% if inert == false %} class="pos-collapsible"{% endif %}>

    {% for item in items %}
      
      <li>
        {% if item.url %}<a href="{{ item.url }}">{% endif %}
          {{ item.label }}
        {% if item.url %}</a>{% endif %}

        {% if item.children.size > 0 %}
          <button type="button" class="pos-collapsible-toggle">
            {% render 'modules/common-styling/icon', icon: 'dashRight' %}
            <span class="pos-label">Expand "{{ item.label }}"</span>
          </button>
        {% endif %}

        {% if item.children.size > 0 %}
          <div class="pos-collapsible-children" inert>
            {% liquid
              if item.children.size > 0
                function render_submenu = 'modules/common-styling/navigation/collapsible', items: item.children, inert: true
                print render_submenu
              endif
            %}
          </div>
        {% endif %}
      </li>

    {% endfor %}

  </ul>

{% endcapture %}

{{ output | html_safe }}

{% return output %}